(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{22:function(e,t,n){e.exports=n(35)},28:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(17),i=n.n(c),o=(n(28),n(3)),s=n.n(o),u=n(5),l=n(8),p=n(16),f=n(14),d=function(e){return e>127?(e-256)/64:e/64},b=n(6),h=n(10),v=n(7),g=n(1);function m(){var e=Object(h.a)(["\n  ",";\n  outline: none;\n  border-radius: 26.5px;\n  transition: all 0.2s ease-in-out;\n  min-width: 160px;\n  max-width: 192px;\n\n  padding: 9px 19px;\n\n  background-color: #2924fb;\n  border: solid 2px #2924fb;\n\n  font-size: 15px;\n  font-weight: bold;\n  color: white;\n\n  :hover {\n    background-color: #6e6afc;\n    border-color: #6e6afc;\n    cursor: pointer;\n  }\n\n  :active {\n    background-color: #a5a3fd;\n    border-color: #a5a3fd;\n  }\n"]);return m=function(){return e},e}var x=v.a.button(m(),g.q),w=n(4),y=Object(r.lazy)(function(){return n.e(0).then(n.bind(null,39))}),j=a.a.memo(function(e){var t=e.characteristicState,n=e.dataHandler,c=Object(r.useContext)(C),i=t.accDataCharacteristic,o=t.setAccDataCharacteristic,l=function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.characteristic){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,t.stopNotifications();case 6:t.removeEventListener("characteristicvaluechanged",n),o(function(e){return Object(b.a)({},e,{isNotifying:!1})}),c.setErrorMessage(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),c.setErrorMessage(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[3,11]])}));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.characteristic){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,t.startNotifications();case 6:t.addEventListener("characteristicvaluechanged",n),o(function(e){return Object(b.a)({},e,{isNotifying:!0})}),c.setErrorMessage(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),c.setErrorMessage(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[3,11]])}));return function(){return e.apply(this,arguments)}}();return Object(r.useMemo)(Object(u.a)(s.a.mark(function e(){var t,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.service){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,c.service.getCharacteristic(c.uuids.configCharUUID);case 5:return t=e.sent,e.next=8,t.writeValue(Uint8Array.of(1));case 8:return e.next=10,c.service.getCharacteristic(c.uuids.dataCharUUID);case 10:return r=e.sent,e.next=13,r.startNotifications();case 13:r.addEventListener("characteristicvaluechanged",n),o({characteristic:r,isNotifying:!0}),c.setErrorMessage(""),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),c.setErrorMessage(e.t0.message);case 21:case"end":return e.stop()}},e,null,[[2,18]])})),[c,n,o]),a.a.createElement(w.c,{justifyContent:"center",mt:"100px"},c.service&&i.characteristic&&a.a.createElement(y,null,i.isNotifying?a.a.createElement(x,{onClick:l},"Stop reading data"):a.a.createElement(x,{onClick:p},"Start reading data")))}),k=Object(r.lazy)(function(){return n.e(4).then(n.bind(null,40))}),O=function(){var e=Object(r.useState)({characteristic:null,isNotifying:!1}),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)([]),o=Object(l.a)(i,2),s=o[0],u=o[1],p=Object(r.useRef)(0),b=Object(r.useCallback)(function(e){var t=e.target.value,n=[t.getUint8(0),t.getUint8(1),t.getUint8(2)].map(d);u(function(e){var t=[].concat(Object(f.a)(e),[Math.hypot.apply(Math,Object(f.a)(n))]);return t.length>20&&(t.shift(),p.current++),t})},[]);return a.a.createElement(w.a,{width:"100%",maxHeight:"100%"},a.a.createElement(k,{data:s,firstIndex:p.current}),a.a.createElement(j,{characteristicState:{accDataCharacteristic:n,setAccDataCharacteristic:c},dataHandler:b}))},E=Object(r.lazy)(function(){return n.e(0).then(n.bind(null,39))}),C=a.a.createContext({uuids:{},service:{},setErrorMessage:function(){}}),U={serviceUUID:"f000aa10-0451-4000-b000-000000000000",dataCharUUID:"f000aa11-0451-4000-b000-000000000000",configCharUUID:"f000aa12-0451-4000-b000-000000000000"},S=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),f=o[0],d=o[1],b=function(){var e=Object(u.a)(s.a.mark(function e(){var t,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.bluetooth.requestDevice({filters:[{name:"SensorTag"}],optionalServices:[U.serviceUUID]});case 3:return t=e.sent,e.next=6,t.gatt.connect();case 6:return n=e.sent,e.next=9,n.getPrimaryService(U.serviceUUID);case 9:r=e.sent,c(r),d(""),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),d(e.t0.message);case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(){return e.apply(this,arguments)}}(),h={uuids:U,service:n,setErrorMessage:d};return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(C.Provider,{value:h},a.a.createElement(w.b,{position:"absolute",justifyContent:"center",alignItems:"center",top:0,bottom:0,left:0,right:0},a.a.createElement(p.a,null,n?a.a.createElement(E,{width:"100%",key:"chart"},a.a.createElement(O,null)):a.a.createElement(E,{key:"search-button"},a.a.createElement(x,{onClick:b},"Find SensorTag"))),a.a.createElement("p",{style:{color:"#ff2500"}},f))))},T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(a.a.createElement(S,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/web-bluetooth",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/web-bluetooth","/service-worker.js");T?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):D(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):D(t,e)})}}()},4:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return f});var r=n(10),a=n(6),c=n(7),i=n(1);function o(){var e=Object(r.a)(["\n  ",";\n  max-width: 64em;\n"]);return o=function(){return e},e}var s=Object(i.r)({prop:"display",cssProperty:"display",numberToPx:!1}),u=Object(i.r)({prop:"height",alias:"h",numberToPx:!0}),l=Object(c.a)("div")({boxSizing:"border-box"},i.q,i.e,i.s,i.m,i.k,i.n,i.l,i.i,i.f,i.o,i.b,s,u,i.p,i.d,i.c,i.t);l.displayName="Box",l.propTypes=Object(a.a)({},i.q.propTypes,i.e.propTypes,i.s.propTypes,i.i.propTypes);var p=Object(c.a)(l)({display:"flex"},i.h,i.g,i.a,i.j,s,u,i.l,i.k,i.p,i.d,i.c,i.t);p.displayName="Flex",p.propTypes=Object(a.a)({},i.h.propTypes,i.g.propTypes,i.a.propTypes,i.j.propTypes);var f=Object(c.a)(p)(o(),i.p);f.defaultProps={flexDirection:"column",mx:"auto",px:["8px","64px","none"]}}},[[22,2,3]]]);
//# sourceMappingURL=main.cda3f2d1.chunk.js.map