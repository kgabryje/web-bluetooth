(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n(34)},27:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(16),i=n.n(c),o=(n(27),n(3)),s=n.n(o),u=n(4),l=n(7),p=n(10),f=n(14),d=function(e){return e>127?(e-256)/64:e/64},h=n(5),b=n(9),v=n(6),g=n(1);function m(){var e=Object(b.a)(["\n  ",";\n  outline: none;\n  border-radius: 26.5px;\n  transition: all 0.2s ease-in-out;\n  min-width: 160px;\n  max-width: 192px;\n\n  padding: 9px 19px;\n\n  background-color: #2924fb;\n  border: solid 2px #2924fb;\n\n  font-size: 15px;\n  font-weight: bold;\n  color: white;\n\n  :hover {\n    background-color: #6e6afc;\n    border-color: #6e6afc;\n    cursor: pointer;\n  }\n\n  :active {\n    background-color: #a5a3fd;\n    border-color: #a5a3fd;\n  }\n"]);return m=function(){return e},e}var y=v.a.button(m(),g.q);function x(){var e=Object(b.a)(["\n  ",";\n  max-width: 64em;\n"]);return x=function(){return e},e}var w=Object(g.r)({prop:"display",cssProperty:"display",numberToPx:!1}),j=Object(g.r)({prop:"height",alias:"h",numberToPx:!0}),O=Object(v.a)("div")({boxSizing:"border-box"},g.q,g.e,g.s,g.m,g.k,g.n,g.l,g.i,g.f,g.o,g.b,w,j,g.p,g.d,g.c,g.t);O.displayName="Box",O.propTypes=Object(h.a)({},g.q.propTypes,g.e.propTypes,g.s.propTypes,g.i.propTypes);var k=Object(v.a)(O)({display:"flex"},g.h,g.g,g.a,g.j,w,j,g.l,g.k,g.p,g.d,g.c,g.t);k.displayName="Flex",k.propTypes=Object(h.a)({},g.h.propTypes,g.g.propTypes,g.a.propTypes,g.j.propTypes);var E=Object(v.a)(k)(x(),g.p);E.defaultProps={flexDirection:"column",mx:"auto",px:["8px","64px","none"]};var C=Object(p.b)(k)({enter:{opacity:1,y:0,delay:500,delayChildren:500,staggerChildren:500,transition:{opacity:{ease:"easeOut",duration:500},y:{ease:"easeOut",duration:500}}},exit:{opacity:0,y:300,transition:{opacity:{ease:"easeOut",duration:500},y:{ease:"easeOut",duration:500}}}}),U=a.a.memo(function(e){var t=e.characteristicState,n=e.dataHandler,c=Object(r.useContext)(D),i=t.accDataCharacteristic,o=t.setAccDataCharacteristic,l=function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.characteristic){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,t.stopNotifications();case 6:t.removeEventListener("characteristicvaluechanged",n),o(function(e){return Object(h.a)({},e,{isNotifying:!1})}),c.setErrorMessage(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),c.setErrorMessage(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[3,11]])}));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.characteristic){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,t.startNotifications();case 6:t.addEventListener("characteristicvaluechanged",n),o(function(e){return Object(h.a)({},e,{isNotifying:!0})}),c.setErrorMessage(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),c.setErrorMessage(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[3,11]])}));return function(){return e.apply(this,arguments)}}();return Object(r.useMemo)(Object(u.a)(s.a.mark(function e(){var t,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.service){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,c.service.getCharacteristic(c.uuids.configCharUUID);case 5:return t=e.sent,e.next=8,t.writeValue(Uint8Array.of(1));case 8:return e.next=10,c.service.getCharacteristic(c.uuids.dataCharUUID);case 10:return r=e.sent,e.next=13,r.startNotifications();case 13:r.addEventListener("characteristicvaluechanged",n),o({characteristic:r,isNotifying:!0}),c.setErrorMessage(""),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),c.setErrorMessage(e.t0.message);case 21:case"end":return e.stop()}},e,null,[[2,18]])})),[c,n,o]),a.a.createElement(k,{justifyContent:"center",mt:"100px"},c.service&&i.characteristic&&a.a.createElement(C,null,i.isNotifying?a.a.createElement(y,{onClick:l},"Stop reading data"):a.a.createElement(y,{onClick:p},"Start reading data")))}),S=Object(r.lazy)(function(){return n.e(3).then(n.bind(null,38))}),T=function(){var e=Object(r.useState)({characteristic:null,isNotifying:!1}),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)([]),o=Object(l.a)(i,2),s=o[0],u=o[1],p=Object(r.useRef)(0),h=Object(r.useCallback)(function(e){var t=e.target.value,n=[t.getUint8(0),t.getUint8(1),t.getUint8(2)].map(d);u(function(e){var t=[].concat(Object(f.a)(e),[Math.hypot.apply(Math,Object(f.a)(n))]);return t.length>20&&(t.shift(),p.current++),t})},[]);return a.a.createElement(O,{width:"100%",maxHeight:"100%"},a.a.createElement(S,{data:s,firstIndex:p.current}),a.a.createElement(U,{characteristicState:{accDataCharacteristic:n,setAccDataCharacteristic:c},dataHandler:h}))},D=a.a.createContext({uuids:{},service:{},setErrorMessage:function(){}}),N={serviceUUID:"f000aa10-0451-4000-b000-000000000000",dataCharUUID:"f000aa11-0451-4000-b000-000000000000",configCharUUID:"f000aa12-0451-4000-b000-000000000000"},M=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(""),o=Object(l.a)(i,2),f=o[0],d=o[1],h=function(){var e=Object(u.a)(s.a.mark(function e(t){var n,r,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.bluetooth.requestDevice({filters:[{services:[t]}]});case 3:return n=e.sent,e.next=6,n.gatt.connect();case 6:return r=e.sent,e.next=9,r.getPrimaryService(t);case 9:a=e.sent,c(a),d(""),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),d(e.t0.message);case 17:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}(),b={uuids:N,service:n,setErrorMessage:d};return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(D.Provider,{value:b},a.a.createElement(E,{position:"absolute",justifyContent:"center",alignItems:"center",top:0,bottom:0,left:0,right:0},a.a.createElement(p.a,null,n?a.a.createElement(C,{width:"100%",key:"chart"},a.a.createElement(T,null)):a.a.createElement(C,{key:"search-button"},a.a.createElement(y,{onClick:function(){return h(N.serviceUUID)}},"Find SensorTag"))),a.a.createElement("p",{style:{color:"#ff2500"}},f))))},I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function A(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(a.a.createElement(M,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/web-bluetooth",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/web-bluetooth","/service-worker.js");I?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):A(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):A(t,e)})}}()}},[[21,1,2]]]);
//# sourceMappingURL=main.ceb48e00.chunk.js.map