(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{22:function(e,t,n){e.exports=n(35)},28:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(17),o=n.n(c),i=(n(28),n(4)),s=n.n(i),u=n(8),l=n(6),m=n(16),f=n(14),p=function(e){return e>127?(e-256)/64:e/64},d=n(9),b=n(5),h=n(3),v=n(1);function g(){var e=Object(b.a)(["\n  ",";\n  outline: none;\n  border-radius: 26.5px;\n  transition: all 0.2s ease-in-out;\n  min-width: 160px;\n  max-width: 192px;\n\n  padding: 9px 19px;\n\n  background-color: #2924fb;\n  border: solid 2px #2924fb;\n\n  font-size: 15px;\n  font-weight: bold;\n  color: white;\n\n  :hover {\n    background-color: #6e6afc;\n    border-color: #6e6afc;\n    cursor: pointer;\n  }\n\n  :active {\n    background-color: #a5a3fd;\n    border-color: #a5a3fd;\n  }\n"]);return g=function(){return e},e}var x=h.a.button(g(),v.q),w=n(7),j=Object(r.lazy)(function(){return n.e(0).then(n.bind(null,39))}),y=a.a.memo(function(e){var t=e.characteristicState,n=e.dataHandler,c=Object(r.useContext)(I),o=c.uuids,i=c.service,l=c.setErrorMessage,m=t.accDataCharacteristic,f=t.setAccDataCharacteristic,p=function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.characteristic){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,t.stopNotifications();case 6:t.removeEventListener("characteristicvaluechanged",n),f(function(e){return Object(d.a)({},e,{isNotifying:!1})}),l(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),l(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[3,11]])}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.characteristic){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,t.startNotifications();case 6:t.addEventListener("characteristicvaluechanged",n),f(function(e){return Object(d.a)({},e,{isNotifying:!0})}),l(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),l(e.t0.message);case 14:case"end":return e.stop()}},e,null,[[3,11]])}));return function(){return e.apply(this,arguments)}}();return Object(r.useMemo)(Object(u.a)(s.a.mark(function e(){var t,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,i.getCharacteristic(o.configCharUUID);case 5:return t=e.sent,e.next=8,t.writeValue(Uint8Array.of(1));case 8:return e.next=10,i.getCharacteristic(o.dataCharUUID);case 10:return r=e.sent,e.next=13,r.startNotifications();case 13:r.addEventListener("characteristicvaluechanged",n),f({characteristic:r,isNotifying:!0}),l(""),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),console.log("dupa "+e.t0.message),l(e.t0.message);case 22:case"end":return e.stop()}},e,null,[[2,18]])})),[i,o,n,f,l]),a.a.createElement(w.c,{justifyContent:"center",mt:"100px"},i&&m.characteristic&&a.a.createElement(j,null,m.isNotifying?a.a.createElement(x,{onClick:p},"Stop reading data"):a.a.createElement(x,{onClick:b},"Start reading data")))}),O=Object(r.lazy)(function(){return n.e(4).then(n.bind(null,40))}),k=function(){var e=Object(r.useState)({characteristic:null,isNotifying:!1}),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)([]),i=Object(l.a)(o,2),s=i[0],u=i[1],m=Object(r.useRef)(0),d=Object(r.useCallback)(function(e){var t=e.target.value,n=[t.getUint8(0),t.getUint8(1),t.getUint8(2)].map(p);u(function(e){var t=[].concat(Object(f.a)(e),[Math.hypot.apply(Math,Object(f.a)(n))]);return t.length>20&&(t.shift(),m.current++),t})},[]);return a.a.createElement(w.a,{width:"100%",maxHeight:"100%"},a.a.createElement(O,{data:s,firstIndex:m.current}),a.a.createElement(y,{characteristicState:{accDataCharacteristic:n,setAccDataCharacteristic:c},dataHandler:d}))};function E(){var e=Object(b.a)(["\n  color: #2924fb;\n  font-size: 90px;\n  text-indent: -9999em;\n  overflow: hidden;\n  width: 1em;\n  height: 1em;\n  border-radius: 50%;\n  margin: 72px auto;\n  position: relative;\n  transform: translateZ(0);\n  animation: "," 1.7s infinite ease, "," 1.7s infinite ease;\n"]);return E=function(){return e},e}function C(){var e=Object(b.a)(["\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n"]);return C=function(){return e},e}function U(){var e=Object(b.a)(["\n  0% {\n    box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\n  }\n  5%,\n  95% {\n    box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\n  }\n  10%,\n  59% {\n    box-shadow: 0 -0.83em 0 -0.4em, -0.087em -0.825em 0 -0.42em, -0.173em -0.812em 0 -0.44em, -0.256em -0.789em 0 -0.46em, -0.297em -0.775em 0 -0.477em;\n  }\n  20% {\n    box-shadow: 0 -0.83em 0 -0.4em, -0.338em -0.758em 0 -0.42em, -0.555em -0.617em 0 -0.44em, -0.671em -0.488em 0 -0.46em, -0.749em -0.34em 0 -0.477em;\n  }\n  38% {\n    box-shadow: 0 -0.83em 0 -0.4em, -0.377em -0.74em 0 -0.42em, -0.645em -0.522em 0 -0.44em, -0.775em -0.297em 0 -0.46em, -0.82em -0.09em 0 -0.477em;\n  }\n  100% {\n    box-shadow: 0 -0.83em 0 -0.4em, 0 -0.83em 0 -0.42em, 0 -0.83em 0 -0.44em, 0 -0.83em 0 -0.46em, 0 -0.83em 0 -0.477em;\n  }\n"]);return U=function(){return e},e}var S=Object(h.b)(U()),T=Object(h.b)(C()),D=h.a.div(E(),S,T),N=Object(r.lazy)(function(){return n.e(0).then(n.bind(null,39))}),I=a.a.createContext({uuids:{},service:{},setErrorMessage:function(){}}),A={serviceUUID:"f000aa10-0451-4000-b000-000000000000",dataCharUUID:"f000aa11-0451-4000-b000-000000000000",configCharUUID:"f000aa12-0451-4000-b000-000000000000"},P=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),f=i[0],p=i[1],d=Object(r.useState)(!1),b=Object(l.a)(d,2),h=b[0],v=b[1],g=function(){var e=Object(u.a)(s.a.mark(function e(){var t,n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.bluetooth.requestDevice({filters:[{name:"SensorTag"}],optionalServices:[A.serviceUUID]});case 3:return t=e.sent,v(!0),e.next=7,t.gatt.connect();case 7:return n=e.sent,e.next=10,n.getPrimaryService(A.serviceUUID);case 10:r=e.sent,c(r),v(!1),p(""),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),p(e.t0.message),v(!1);case 20:case"end":return e.stop()}},e,null,[[0,16]])}));return function(){return e.apply(this,arguments)}}(),j={uuids:A,service:n,setErrorMessage:p};return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(I.Provider,{value:j},a.a.createElement(w.b,{position:"absolute",justifyContent:"center",alignItems:"center",top:0,bottom:0,left:0,right:0},a.a.createElement(m.a,null,n?a.a.createElement(N,{width:"100%",key:"chart"},a.a.createElement(k,null)):a.a.createElement(N,{key:"spinner"},h?a.a.createElement(D,null):a.a.createElement(x,{onClick:g},"Find SensorTag"))),a.a.createElement("p",{style:{color:"#ff2500"}},f))))},W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(a.a.createElement(P,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/web-bluetooth",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/web-bluetooth","/service-worker.js");W?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):z(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):z(t,e)})}}()},7:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"c",function(){return m}),n.d(t,"b",function(){return f});var r=n(5),a=n(9),c=n(3),o=n(1);function i(){var e=Object(r.a)(["\n  ",";\n  max-width: 64em;\n"]);return i=function(){return e},e}var s=Object(o.r)({prop:"display",cssProperty:"display",numberToPx:!1}),u=Object(o.r)({prop:"height",alias:"h",numberToPx:!0}),l=Object(c.a)("div")({boxSizing:"border-box"},o.q,o.e,o.s,o.m,o.k,o.n,o.l,o.i,o.f,o.o,o.b,s,u,o.p,o.d,o.c,o.t);l.displayName="Box",l.propTypes=Object(a.a)({},o.q.propTypes,o.e.propTypes,o.s.propTypes,o.i.propTypes);var m=Object(c.a)(l)({display:"flex"},o.h,o.g,o.a,o.j,s,u,o.l,o.k,o.p,o.d,o.c,o.t);m.displayName="Flex",m.propTypes=Object(a.a)({},o.h.propTypes,o.g.propTypes,o.a.propTypes,o.j.propTypes);var f=Object(c.a)(m)(i(),o.p);f.defaultProps={flexDirection:"column",mx:"auto",px:["8px","64px","none"]}}},[[22,2,3]]]);
//# sourceMappingURL=main.e16870a1.chunk.js.map